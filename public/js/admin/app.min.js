function initCheckbox(){$(".icheck").iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green",increaseArea:"20%"})}function initSelect2(){$(".select2").select2({width:"100%"}),$(".select2-no-search").select2({minimumResultsForSearch:1/0,width:"100%"})}function initDatePicker(){moment.locale("tr"),$(".birthday-picker").datepicker({language:"tr",startView:2,autoclose:!0}),$(".date-picker").datepicker({language:"tr",autoclose:!0})}function initFileInput(){$(":file").not(".swal2-file").not(".no-filestyle").filestyle({buttonText:"Dosya seç",iconName:"fa fa-folder-open",placeholder:"Dosya seçilmedi",buttonBefore:!0})}function initMaxLength(){$(".max-length").maxlength({alwaysShow:!0})}function initFilterButton(){$(".btn-filter").click(function(t){t.preventDefault();var e=!0;0==$(this).attr("filter-reload")&&(e=!1),$(this).trigger("change"),insertParam($(this).attr("filter-param"),$(this).attr("filter-value"),e)})}function initMask(){$(".date-mask").inputmask("dd.mm.yyyy",{placeholder:"GG.AA.YYYY"}),$(".mobile").inputmask("(999) 999 99 99",{placeholder:"(___) ___ __ __"}),$(".url-mask").inputmask({regex:"https?://.*"})}function initMultiSelect(){$(".multi-select").multiSelect({selectableHeader:"<input type='text' class='search-input' style='width: 100%; margin-bottom: 10px;' autocomplete='off' placeholder='Arama'>",selectionHeader:"<input type='text' class='search-input' style='width: 100%; margin-bottom: 10px;' autocomplete='off' placeholder='Arama'>",afterInit:function(){$("#multiselect-loading").remove();var t=this,e=t.$selectableUl.prev(),n=t.$selectionUl.prev(),a="#"+t.$container.attr("id")+" .ms-elem-selectable:not(.ms-selected)",o="#"+t.$container.attr("id")+" .ms-elem-selection.ms-selected";t.qs1=e.quicksearch(a).on("keydown",function(e){if(40===e.which)return t.$selectableUl.focus(),!1}),t.qs2=n.quicksearch(o).on("keydown",function(e){if(40==e.which)return t.$selectionUl.focus(),!1})},afterSelect:function(){this.qs1.cache(),this.qs2.cache()},afterDeselect:function(){this.qs1.cache(),this.qs2.cache()}})}function initTabRemember(){var t=document.location.hash;t&&$('.nav-tabs a[href="'+t.replace("tab_","")+'"]').tab("show"),$(".nav-tabs a").on("shown.bs.tab",function(t){window.location.hash=t.target.hash.replace("#","#tab_")})}function initClipboard(){new ClipboardJS(".clipboard-text").on("success",function(t){$(t.trigger).tooltip({placement:"bottom",trigger:"manual",title:"Kopyalandı"}),$(t.trigger).tooltip("show"),setTimeout(function(){$(t.trigger).tooltip("destroy"),t.clearSelection()},1e3)})}function initNumberInput(){$(".number").keydown(function(t){-1!==$.inArray(t.keyCode,[46,8,9,27,13,110,190])||65==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||67==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||88==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()})}function initSummernote(){$(".summernote").summernote({height:200,toolbar:[["style",["style","bold","italic","underline","clear"]],["fontsize",["fontsize"]],["para",["ul","ol","paragraph"]],["insert",["link"]],["misc",["fullscreen","codeview"]]]})}function initBrokenImage(){$("img").on("error",function(){console.log($(this)),$(this).attr("src","/images/admin/child_no_image.jpg")})}function initSidebar(){$.ajax({url:"/admin/sidebar/data",method:"GET"}).done(function(t){$(".unapproved-user-count").text(t.data["unapproved-user-count"]),$(".unapproved-post-count").text(t.data["unapproved-post-count"]),$(".open-chat-count").text(t.data["open-chat-count"])})}function deleteItem(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$("."+n).on("click",function(n){var o=$(this).attr("delete-id"),i=$(this).attr("delete-name");swal({title:"Emin misin?",text:"'"+i+"' "+e,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Evet, sil!",showCancelButton:!0,cancelButtonText:"Hayır",showLoaderOnConfirm:!0,preConfirm:function(e){return new Promise(function(e,n){var i=a?a.replace("[ID]",o):"/admin/"+t+"/"+o;$.ajax({url:i,method:"DELETE",dataType:"json",success:function(t){e()},error:function(t,e,n){ajaxError(t,e,n)}})})},allowOutsideClick:!1}).then(function(){$("#"+t+"-"+o).remove(),swal({title:"Başarıyla Silindi!",type:"success",confirmButtonText:"Tamam"})})})}function setFeaturedMedia(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feature-btn";$("."+e).html('<i class="fa fa-star-o"></i></button>').addClass("btn-default").removeClass("btn-warning"),$("."+e+"[feature-id="+t+"]").html('<i class="fa fa-star"></i></button>').addClass("btn-warning").removeClass("btn-default")}function featureItem(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"feature-btn",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$("."+n).on("click",function(){var e=$(this).attr("feature-id"),n=a?a.replace("[ID]",e):"/admin/"+t+"/"+e+"/feature";$.ajax({url:n,method:"PUT"}).done(function(t){setFeaturedMedia(t.data.media.id)}).fail(function(t,e,n){ajaxError(t,e,n)})})}function setApprovalButton(t,e){e?$(t).html('<i class="fa fa-check-square-o"></i>').addClass("btn-success").attr("title","Onayı Kaldır").removeClass("btn-default").closest("tr").addClass("success").removeClass("warning"):$(t).html('<i class="fa fa-square-o"></i>').addClass("btn-default").attr("title","Onayla").removeClass("btn-success").closest("tr").addClass("warning").removeClass("success")}function sendApproval(t,e,n,a,o){$.ajax({url:"/admin/"+t+"/"+e+"/approve",method:"PUT",dataType:"json",data:{approval:a}}).done(function(t){o(t)}).fail(function(t,e,n){ajaxError(t,e,n)})}function approveItem(t,e,n,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"approval";$(function(){$(".approval").each(function(){setApprovalButton(this,1==$(this).attr("approved"))})}),$("."+i).on("click",function(i){var r=$(this),l=r.attr("approval-id"),c=r.attr("approval-name"),s="1"==r.attr("approved")?0:1;o?swal({title:"Emin misin?",html:"'"+c+"' "+(s?e:n),type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Evet, "+(s?"onayla!":"onayı kaldır!"),showCancelButton:!0,cancelButtonText:"Hayır",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(e,n){sendApproval(t,l,c,s,function(t){e(t)})})},allowOutsideClick:!1}).then(function(t){r.attr("approved",s),setApprovalButton(r,t.data.approval),"function"==typeof a&&a(s,l,c)}):sendApproval(t,l,c,s,function(t){r.attr("approved",s),setApprovalButton(r,t.data.approval),"function"==typeof a&&a(s,l,c)})})}function selectRole(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"role";$("."+n).on("click",function(n){var a=$(this).attr("item-id"),o="#"+t+"-"+a,i=$(o).children("[itemprop=name]").html(),r=$(o).children("[itemprop=role]").html();swal({title:"Üye Yetkilendirme",html:"<h3><strong>Ad:</strong> "+i+"</h3><h3><strong>Aktif Görev:</strong> "+r+"</h3>",input:"select",inputOptions:e,confirmButtonColor:"#DD6B55",confirmButtonText:"Değiştir!",showCancelButton:!0,cancelButtonText:"İptal",showLoaderOnConfirm:!0,onOpen:function(){$(".swal2-select").select2({minimumResultsForSearch:1/0,dropdownCss:{"z-index":9999999}})},preConfirm:function(e){return new Promise(function(n,o){e?$.ajax({url:"/admin/"+t+"/"+a,method:"PUT",data:{roles:[e]}}).done(function(t){n(t)}).fail(function(t,e,n){ajaxError(t,e,n)}):o("Yeni görev seçmeniz gerekiyor")})},allowOutsideClick:!1}).then(function(t){$(o).children("[itemprop=role]").text(t.data.role)})})}function ajaxError(t,e,n){message="Bir hata ile karşılaşıldı!",console.log("XHR:"),console.log(t),console.log("Ajax Options:"),console.log(e),console.log("Thrown Error:"),console.log(n),swal({title:message,type:"error",confirmButtonText:"Tamam"})}function block(t){$(t).block({message:null})}function unblock(t){$(t).unblock()}function getSelecteds(t){var e=[];return t?$("."+t+":checkbox:checked").each(function(){e.push($(this).val())}):$("input:checked").each(function(){e.push($(this).val())}),e}function checkAll(t,e){$("#"+t).change(function(){$("."+e).prop("checked",this.checked)})}function insertParam(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=encodeURI(t),e=encodeURI(e);for(var a,o=document.location.search.substr(1).split("&"),i=o.length;i--;)if(a=o[i].split("="),a[0]==t){a[1]=e,o[i]=a.join("=");break}if(i<0&&(o[o.length]=[t,e].join("=")),n)document.location.search=o.join("&");else{var r=document.location.origin+document.location.pathname+"?"+o.join("&");window.history.replaceState(null,null,r)}}function searchItem(t,e,n){$("#"+e).focus(),$("#"+t).click(function(){insertParam(n,$("#"+e).val())}),$("#"+e).on("keydown",function(t){13==t.keyCode&&insertParam(n,$("#"+e).val())})}function getChartColors(){return["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(220,20,60, 0.5)","rgba(173,255,47, 0.5)","rgba(0,250,154, 0.5)","rgba(0,206,209, 0.5)","rgba(0,191,255, 0.5)","rgba(225,200,220, 0.5)","rgba(244,164,96, 0.5)","rgba(50,205,50, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(220,20,60, 0.5)","rgba(173,255,47, 0.5)","rgba(0,250,154, 0.5)","rgba(0,206,209, 0.5)","rgba(0,191,255, 0.5)","rgba(225,200,220, 0.5)","rgba(244,164,96, 0.5)","rgba(50,205,50, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(220,20,60, 0.5)","rgba(173,255,47, 0.5)","rgba(0,250,154, 0.5)","rgba(0,206,209, 0.5)","rgba(0,191,255, 0.5)","rgba(225,200,220, 0.5)","rgba(244,164,96, 0.5)","rgba(50,205,50, 0.5)"]}function initChart(t,e,n,a,o){var i=document.getElementById(t).getContext("2d");return new Chart(i,{type:e,data:{labels:n,datasets:[{label:o,data:a,backgroundColor:getChartColors()}]}})}function initPieChart(t,e,n){initChart(t,"pie",e,n)}$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}}),$(function(){initCheckbox(),initSelect2(),initDatePicker(),initFileInput(),initMaxLength(),initFilterButton(),initMask(),initMultiSelect(),initTabRemember(),initClipboard(),initNumberInput(),initSummernote(),initSidebar(),initBrokenImage(),$('[data-toggle="popover"]').popover(),$('[data-toggle="tooltip"]').tooltip(),searchItem("search-btn","search-input","search")});
